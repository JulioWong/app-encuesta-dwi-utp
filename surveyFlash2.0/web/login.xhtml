<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <ui:composition template="./WEB-INF/facelets/template/client.xhtml">
        <ui:define name="title">
            <h:outputText value="Inicio" />
        </ui:define>
        <ui:define name="content">
            <f:event type="preRenderView" listener="#{sessionController.checkAlreadyLoggedin}" />
            <div class="container-fluid">
                <div class="row">
                    <div class="col-sm-5">
                        <div id="carouselExampleIndicators" class="carousel slide" 
                            data-ride="carousel">
                           <ol class="carousel-indicators">
                             <li data-target="#carouselExampleIndicators" data-slide-to="0" 
                                 class="active"></li>
                           </ol>
                           <div class="carousel-inner">
                             <div class="carousel-item active">
                                 <img class="d-block w-100" src="assets/images/banner2.jpg" />
                             </div>
                           </div>
                           <a class="carousel-control-prev" href="#carouselExampleIndicators" 
                              role="button" data-slide="prev">
                             <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                             <span class="sr-only">Previous</span>
                           </a>
                           <a class="carousel-control-next" href="#carouselExampleIndicators" 
                              role="button" data-slide="next">
                             <span class="carousel-control-next-icon" aria-hidden="true"></span>
                             <span class="sr-only">Next</span>
                           </a>
                         </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="container">
                           <h:outputText value="&lt;br/&gt;" escape="false" />
                           <h:form>
                            <div class="form-group">
                                <p class="h4">Administra tus encuestas</p>
                            </div>
                            <ui:fragment rendered="#{sessionController.error != null}">
                               <div id="alertLogin" class="alert alert-danger" role="alert">
                                   #{sessionController.error}
                               </div>
                            </ui:fragment>
                            <div class="form-group">
                              <label for="email">Correo electrónico</label>
                              <h:inputText id="email" class="form-control" p:type="email" p:required="required" value="#{sessionController.email}"/>
                            </div>
                            <div class="form-group">
                              <label for="password">Contraseña</label>
                              <h:inputSecret class="form-control" id="password" p:required="required" value="#{sessionController.password}"/>
                            </div>
                            <h:commandButton class="btn btn-primary" action="#{sessionController.iniciarSesion()}" value="Iniciar sesión"/>
                           </h:form>
                        </div>
                    </div>
                </div>
            </div>
        </ui:define>
    </ui:composition>
</html>

